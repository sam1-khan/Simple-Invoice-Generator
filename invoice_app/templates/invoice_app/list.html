{% extends "base_bootstrap.html" %}
{% block content %}
<h1>Invoice List</h1>
<div>
<!-- https://www.w3schools.com/howto/howto_css_search_button.asp -->
<form>
<div class='d-flex gap-1 mb-1 align-items-center'>
  <input class="form-control" type="text" placeholder="Search YYYY-MM-DD or string" name="search"
  {% if search %} value="{{ search }}" {% endif %}
  >
  <button class='btn btn-primary' type="submit"><i class="fa fa-search"></i></button>
  <a class='btn btn-dark' href="{% url 'invoice_app:invoice-list' %}"><i class="fa fa-undo"></i></a>
</div>
</form>
</div>
<div class='my-1 gap-1'>
  <a href="{% url 'invoice_app:invoice-create' %}" class="my-1 btn btn-success btn-sm">Create New Invoice</a>
  {% if user.is_authenticated %}
  <a class='btn btn-danger btn-sm' href="{% url 'logout' %}?next={% url 'invoice_app:invoice-list' %}">Logout <i class="fa fa-sign-out"></i></a>
  {% else %}
  <a class='btn btn-primary btn-sm' href="{% url 'login' %}?next={% url 'invoice_app:invoice-list' %}">Login <i class="fa fa-sign-in"></i></a>
  {% endif %}
</div>
<div class="col">
  {% for invoice in invoice_list %}
      <div class="row-md-6 my-3">
          <div class="card">
              <div class="card-body">
                  <h5 class="card-title">{{ invoice.client }}</h5>
                  <p class="card-text col-10 text-truncate"><small><strong>Description:</strong> {{ invoice.description }}</small></p>
                  <p class="card-text"><small><strong>Reference:</strong> {{ invoice.reference_number }}</small></p>
                  <p class="card-text"><small><strong>Date:</strong> {{ invoice.created_at }}</small></p>
                  <p class="card-text"><small><strong>Quantity:</strong> {{ invoice.quantity }}</small></p>
                  <p class="card-text"><small><strong>Grand Total:</strong> {{ invoice.grand_total }} Rs</small></p>
                  <a href="{% url 'invoice_app:invoice-detail' invoice.pk %}" class="btn btn-primary btn-sm">View Details</a>
                  <a href="{% url 'invoice_app:invoice-update' invoice.pk %}" class="btn btn-secondary btn-sm">Edit</a>
              </div>
          </div>
      </div>
  {% endfor %}
</div>
{% endblock %}